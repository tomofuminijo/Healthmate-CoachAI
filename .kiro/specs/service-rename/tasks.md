# 実装計画

- [x] 1. 事前準備とバックアップ作成
  - 現在のサービス状態のバックアップを作成
  - 変更対象ファイルリストの作成
  - ロールバック手順の準備
  - _要件: 2.4_

- [ ] 2. ディレクトリとファイル名の変更
- [x] 2.1 Pythonパッケージディレクトリの名前変更
  - health_coach_ai/ ディレクトリを healthmate_coach_ai/ に変更
  - __init__.py と agent.py ファイルの移動確認
  - _要件: 1.1_

- [ ]* 2.2 プロパティテスト: ファイル名変更の一貫性
  - **プロパティ 1: ファイル名変更の一貫性**
  - **検証: 要件 1.1**

- [ ] 3. 設定ファイルの更新
- [x] 3.1 IAMロール作成スクリプトの更新
  - create_custom_iam_role.py 内のロール名を更新
  - HealthCoachAI-AgentCore-Runtime-Role → Healthmate-CoachAI-AgentCore-Runtime-Role
  - _要件: 1.2, 1.3_

- [x] 3.2 デプロイスクリプトの更新
  - deploy_to_aws.sh 内のサービス名参照を更新
  - destroy_from_aws.sh 内のサービス名参照を更新
  - _要件: 1.2_

- [x] 3.3 AgentCore設定の更新
  - .bedrock_agentcore.yaml のエージェント名を更新
  - health_coach_ai → healthmate_coach_ai
  - _要件: 1.2_

- [ ]* 3.4 プロパティテスト: 設定ファイル内容の一貫性
  - **プロパティ 2: 設定ファイル内容の一貫性**
  - **検証: 要件 1.2**

- [ ]* 3.5 プロパティテスト: AWS リソース名の一貫性
  - **プロパティ 3: AWS リソース名の一貫性**
  - **検証: 要件 1.3**

- [ ] 4. ドキュメントファイルの更新
- [x] 4.1 README.md の更新
  - サービス名の全ての言及を Healthmate-CoachAI に変更
  - パッケージ名の参照を healthmate_coach_ai に変更
  - _要件: 1.4_

- [x] 4.2 SETUP.md の更新
  - サービス名とパッケージ名の参照を更新
  - 設定例とコマンド例を新しい名前に更新
  - _要件: 1.4_

- [ ]* 4.3 プロパティテスト: ドキュメント更新の一貫性
  - **プロパティ 4: ドキュメント更新の一貫性**
  - **検証: 要件 1.4**

- [ ] 5. コード内参照の更新
- [x] 5.1 Pythonファイル内のimport文更新
  - agent.py 内の import 文を確認・更新
  - テストファイル内の import 文を更新
  - _要件: 1.5_

- [x] 5.2 テストスクリプトの更新
  - manual_test_agent.py の参照を更新
  - manual_test_deployed_agent.py の参照を更新
  - その他テストファイルの参照を更新
  - _要件: 1.5, 4.1_

- [ ]* 5.3 プロパティテスト: コード参照の一貫性
  - **プロパティ 5: コード参照の一貫性**
  - **検証: 要件 1.5**

- [ ] 6. ステアリングファイルの更新
- [x] 6.1 .kiro/steering/ 内のファイル更新
  - ai-agent.md 内のサービス名参照を更新
  - 他のステアリングファイルの参照を確認・更新
  - _要件: 3.3_

- [ ]* 6.2 プロパティテスト: サービス間参照更新の一貫性
  - **プロパティ 10: サービス間参照更新の一貫性**
  - **検証: 要件 3.1, 3.2, 3.3, 3.4**

- [ ] 7. 他サービスからの参照更新
- [x] 7.1 Healthmate-HealthManager サービスの参照更新
  - ステアリングファイル内の HealthCoachAI 参照を確認
  - 必要に応じて Healthmate-CoachAI に更新
  - _要件: 3.1_

- [x] 7.2 HealthmateUI サービスの参照更新
  - 設定ファイルやドキュメント内の参照を確認
  - 必要に応じて Healthmate-CoachAI に更新
  - _要件: 3.2_

- [ ] 8. 検証とテスト
- [x] 8.1 ローカル環境での動作確認
  - 更新されたファイルの構文チェック
  - import 文の動作確認
  - _要件: 4.1_

- [ ]* 8.2 プロパティテスト: テスト実行の一貫性
  - **プロパティ 11: テスト実行の一貫性**
  - **検証: 要件 4.1, 4.2, 4.3, 4.4**

- [x] 8.3 デプロイメント前テスト
  - 新しい設定でのローカルテスト実行
  - AgentCore 設定の検証
  - _要件: 4.2_

- [ ] 9. 段階的デプロイメント
- [x] 9.1 古いリソースのクリーンアップ準備
  - 既存の AgentCore エージェントの確認
  - 古い IAM ロールの確認
  - クリーンアップスクリプトの準備
  - _要件: 2.2_

- [ ]* 9.2 プロパティテスト: クリーンアップ手順提供
  - **プロパティ 7: クリーンアップ手順提供**
  - **検証: 要件 2.2**

- [x] 9.3 新しい設定でのデプロイ実行
  - 新しい IAM ロールの作成
  - 新しいエージェント名でのデプロイ
  - _要件: 2.1, 4.2_

- [ ]* 9.4 プロパティテスト: デプロイメント安全性
  - **プロパティ 6: デプロイメント安全性**
  - **検証: 要件 2.1**

- [ ] 10. デプロイ後検証
- [x] 10.1 新しいサービス名での動作確認
  - manual_test_deployed_agent.py の実行
  - ログ出力の確認
  - _要件: 4.3, 4.4_
